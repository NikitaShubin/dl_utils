#!/bin/sh

# Перезапускает команду всякий раз, когда она завершается ошибкой.

while [ True ]; do
    $@ && break
    sleep 1
    
    # Отмечаем момент перезапуска:
    echo
    echo '┍━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┑'
    echo '│                                     │'
    date +"│  Перезапуск %Y-%m-%d в %T!  │"
    echo '│                                     │'
    echo '┕━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┙'
    echo
done
