# Модуль `alb_utils.py`

## Общее описание
Модуль содержит специализированные классы для работы с библиотекой albumentations, предоставляющие:
- Кастомные аугментации изображений
- Гибкие обертки для преобразований
- Удобные интерфейсы для работы с изображениями и масками

## Основные компоненты

### 1. Класс RandomDust
Наследуется от `A.RandomFog` и реализует эффект пылевой взвеси.

#### Ключевые особенности:
- **Настройка цвета** - через параметр `color` (по умолчанию белый)
- **Отличие от RandomFog**:
  - Не производит размытия изображения
  - Добавляет равномерный полупрозрачный слой заданного цвета
- **Механизм работы**:
  1. Создает маску пыли с альфа-каналом
  2. Заполняет цветовые каналы согласно параметру `color`
  3. Накладывает маску на изображение через `overlap_with_alpha`

#### Параметры:
- `fog_coef=0.1` - коэффициент интенсивности пыли
- `haze_list=None` - параметры генерации дымки

### 2. Класс AlbTransforms
Универсальная обертка для преобразований albumentations.

#### Функциональность:
- **Гибкая инициализация** принимает:
  - Одиночные преобразования (функторы)
  - Последовательности преобразований
  - None (отсутствие преобразований)
- **Автоматическая композиция** преобразований через `A.Compose`
- **Поддержка пар image-mask** через метод `image_mask_func`

#### Основные методы:
1. `compose_transforms()` - статический метод для создания композиции:
   - Обрабатывает одиночные преобразования и их последовательности
   - Поддерживает режим возврата None или функции-заглушки

2. `image_mask_func()` - специализированный интерфейс для одновременной обработки:
   - Изображений
   - Масок
   Возвращает кортеж (обработанное изображение, обработанная маска)

3. `__call__()` - делает экземпляр класса вызываемым, применяя заданные преобразования

## Технические особенности
1. **Типобезопасность**:
   - Проверка типов входных данных при инициализации
   - Явные сообщения об ошибках при неверных типах

2. **Совместимость**:
   - Интеграция с стандартными преобразованиями albumentations
   - Поддержка интерфейса для многопроцессорной обработки (mpmap)

3. **Гибкость обработки**:
   - Поддержка различных режимов работы (одиночное/множественное преобразование)
   - Возможность работы без преобразований (None-режим)

4. **Расширяемость**:
   - Четкое разделение логики (инициализация, композиция, применение)
   - Возможность добавления новых методов обработки
