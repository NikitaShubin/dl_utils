# Модуль [`yolo.py`](https://github.com/NikitaShubin/dl_utils/blob/main/yolo.py "Перейти к модулю")

Предоставляет утилиты для работы с данными в формате YOLO.
Реализует конвертацию из CVAT-разметки, генерацию статистики и создание
конфигурационных YAML-файлов.

---

## Основные возможности

### Ключевые функции

- **конвертация разметки**: преобразование CVAT-аннотаций в YOLO-формат
  (bounding boxes и сегменты);
- **статистика данных**: анализ распределения классов и суперклассов;
- **генерация конфигураций**: создание шаблонов конфигураций для обучения;
- **создание YAML**: формирование конфигурационного файла для модели;
- **визуализация**: отображение разметки с различными настройками.

---

## Основные компоненты

### Классы

| Класс        | Назначение                                                   |
|--------------|--------------------------------------------------------------|
| `YOLOLabels` | обработка и экспорт разметки в YOLO-формат                   |

### Функции

<!-- markdownlint-disable MD013 -->
| Функция                                      | Назначение                                                        |
|----------------------------------------------|-------------------------------------------------------------------|
| `df2statistic`                               | сбор статистики по датафрейму и генерация графиков распределений  |
| `tasks2statistic`                            | агрегация статистики по набору задач                              |
| `class_statistic2superclass_statistic`       | агрегация статистики классов в суперклассы                        |
| `fill_skipped_rows_in_statistic`             | заполнение пропущенных строк в статистике                         |
| `sources2statistic_and_train_val_test_tasks` | разделение задач на train/val/test и анализ распределения         |
| `gen_yaml`                                   | создание YAML-конфигурации для обучения                           |
| `task2yolo`                                  | конвертация отдельной задачи в YOLO-формат                        |
| `tasks2yolo`                                 | пакетная конвертация набора задач в YOLO-формат                   |
<!-- markdownlint-enable MD013 -->

---

## Основные методы классов

### `YOLOLabels`

| Метод               | Назначение                                  |
|---------------------|---------------------------------------------|
| `apply_label_func`  | применение функции преобразования меток     |
| `save`              | сохранение разметки в .txt файл             |
| `draw_labels`       | визуализация разметки на изображении        |

---

## Вспомогательные функции

- обработка цветовых пространств;
- работа с файловой структурой;
- гибкая настройка экспорта данных;
- визуализация статистики.

---

## Форматы данных

- **входные**: CVAT-разметка, изображения, метаданные;
- **выходные**: YOLO-формат (аннотации + конфигурационные файлы),
  статистика в CSV/Excel/PNG, YAML-конфигурации.
