## Модуль [`yolo.py`](https://github.com/NikitaShubin/dl_utils/blob/main/yolo.py "Перейти к модулю")

Инструменты для конвертации данных в формат YOLO-датасета. 
Поддерживает работу с CVAT-разметкой, балансировку классов и генерацию конфигурационных YAML-файлов.

---

## Основные возможности

### Ключевые функции:
- **конвертация разметки**: преобразование CVAT-аннотаций в YOLO-формат (bounding boxes и сегменты);
- **статистика данных**: подсчёт распределения классов и суперклассов;
- **балансировка**: копирование редких объектов для выравнивания распределения;
- **генерация YAML**: создание конфигурационного файла датасета;
- **превью**: визуализация разметки с наложением метаданных.

---

## Основные компоненты

### Классы

| Класс           | Назначение                                                      |
|-----------------|-----------------------------------------------------------------|
| `YOLOLabels`    | хранение и обработка разметки одного изображения в YOLO-формате |

### Функции

| Функция                                      | Назначение                                                                          |
|----------------------------------------------|-------------------------------------------------------------------------------------|
| `df2statistic`                               | сбор статистики по датафрейму и учёт уникальных объектов в видеопоследовательностях |
| `tasks2statistic`                            | агрегация статистики по списку задач                                                |
| `class_statistic2superclass_statistic`       | агрегация статистики классов в суперклассы                                          |
| `fill_skipped_rows_in_statistic`             | заполнение пропущенных объектов в статистике                                        |
| `sources2statistic_and_train_val_test_tasks` | разделение данных на train/val/test и анализ распределения для каждой выборки       |
| `gen_yaml`                                   | создание YAML-файла конфигурации для датасета                                       |
| `task2yolo`                                  | конвертация отдельной задачи в YOLO-формат                                          |
| `tasks2yolo`                                 | пакетная конвертация списка задач в YOLO-формат                                     |

---

## Основные методы классов

### `YOLOLabels`
| Метод               | Назначение                              |
|---------------------|-----------------------------------------|
| `apply_label_func`  | применение функции преобразования меток |
| `save`              | сохранение разметки в .txt файл         |
| `draw_labels`       | визуализация разметки на изображении    |

---

## Вспомогательные функции:
- обработка цветовых пространств;
- работа с файловой системой;
- параллельная обработка данных;
- визуализация статистики.

---

## Форматы данных
- **входные**: CVAT-разметка, изображения, видео;
- **выходные**: YOLO-формат (изображения + текстовые файлы разметки), статистика в CSV/Excel/PNG, YAML-конфиги.